{% extends 'base.html.twig' %}

{% block title %}Регистрация | YouBoost
{% endblock %}

{% block body %}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success mb-5">{{ message }}</div>
    {% endfor %}
    {% for message in app.flashes('error') %}
        <div class="alert alert-error mb-5">{{ message }}</div>
    {% endfor %}

    <div class="flex min-h-screen items-center justify-center bg-base-200 p-6">
        <div class="w-full max-w-md bg-base-100 p-8 shadow-lg rounded-xl">
            <h2 class="text-2xl font-bold text-center text-primary">Регистрация</h2>

            <form
                method="post" action="{{ path('app_register_email') }}" class="space-y-4 mt-6">
                <!-- Имя -->
                <div>
                    <label class="label">
                        <span class="label-text">Имя</span>
                    </label>
                    <input type="text" name="name" placeholder="Введите имя" class="input input-bordered w-full" value="{{ last_name ?? '' }}" required/>
                    {% if errors.name is defined %}
                        <p class="text-error text-sm mt-1">{{ errors.name }}</p>
                    {% endif %}
                </div>

                <!-- Email -->
                <div>
                    <label class="label">
                        <span class="label-text">Email</span>
                    </label>
                    <input type="email" name="email" placeholder="Введите email" class="input input-bordered w-full" value="{{ last_email ?? '' }}" required/>
                    {% if errors.email is defined %}
                        <p class="text-error text-sm mt-1">{{ errors.email }}</p>
                    {% endif %}
                </div>

                <!-- Пароль -->
                <div>
                    <label class="label">
                        <span class="label-text">Пароль</span>
                    </label>
                    <input type="password" name="password" placeholder="Введите пароль" class="input input-bordered w-full" required/>
                    {% if errors.password is defined %}
                        <p class="text-error text-sm mt-1">{{ errors.password }}</p>
                    {% endif %}
                </div>

                <!-- Подтверждение пароля -->
                <div>
                    <label class="label">
                        <span class="label-text">Подтвердите пароль</span>
                    </label>
                    <input type="password" name="password_confirm" placeholder="Введите пароль ещё раз" class="input input-bordered w-full" required/>
                    {% if errors.password_confirm is defined %}
                        <p class="text-error text-sm mt-1">{{ errors.password_confirm }}</p>
                    {% endif %}
                </div>

                <!-- Кнопка регистрации -->
                <button type="submit" class="btn btn-primary w-full mt-4">Зарегистрироваться</button>
            </form>

            <!-- Уже есть аккаунт? -->
            <p class="mt-4 text-center text-sm">
                Уже есть аккаунт?
                <a href="{{ path('app_login_email') }}" class="text-primary hover:underline">Войти</a>
            </p>

            <!-- Разделитель -->
            <div class="flex items-center w-full my-4">
                <hr class="w-full"/><p class="px-3">ИЛИ</p><hr class="w-full"/>
            </div>

            <!-- Социальные кнопки -->
            <div class="space-y-2">
                <button type="button" class="btn btn-outline btn-block">
                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" class="w-5 h-5 fill-current">
                        <path d="M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z"></path>
                    </svg>
                    Войти через Google
                </button>
            </div>
        </div>
    </div>
{% endblock %}
